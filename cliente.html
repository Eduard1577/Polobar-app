
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Cliente</title>
  <style>
    body { background: #111; color: white; font-family: sans-serif; padding: 20px; }
    h2 { margin-top: 0; }
    .mov { margin-bottom: 8px; }
  </style>
</head>
<body>
  <h2 id="titulo"></h2>
  <p><strong>Saldo actual:</strong> <span id="saldo"></span></p>
  <h3>📜 Historial:</h3>
  <div id="historial"></div>

  <script>
    const params = new URLSearchParams(window.location.search);
    const cliente = params.get("c");

    if (!cliente) {
      document.body.innerHTML = "<p>❌ Cliente no especificado.</p>";
    } else {
      const nombre = cliente.charAt(0).toUpperCase() + cliente.slice(1);
      document.getElementById("titulo").textContent = `👤 Cliente: ${nombre}`;

      const saldo = localStorage.getItem(`saldo_${cliente}`) || 0;
      document.getElementById("saldo").textContent = `$${saldo}`;

      const movimientos = JSON.parse(localStorage.getItem(`movimientos_${cliente}`) || "[]");
      const contenedor = document.getElementById("historial");

      if (movimientos.length === 0) {
        contenedor.innerHTML = "<p>No hay movimientos registrados.</p>";
      } else {
        movimientos.forEach(m => {
          const div = document.createElement("div");
          div.className = "mov";
          div.textContent = `📅 ${m.fecha || 'sin fecha'} — 💰 ${m.descripcion || 'sin detalle'}`;
          contenedor.appendChild(div);
        });
      }
    }
  </script>
</body>
</html>
